<header>
  <script>
    //const hashCode = s => s.split('').reduce((a,b)=>a+b.charCodeAt(0),0)
    /*const hashString = s=>{
      hash=hashCode(s);
      return [hash % 52, ~~(hash/52) % 52].map(a=>a<0?-a:a).map(a=>String.fromCharCode(a+(a<26?65:71))).join``
    }*/
    //const hashString = s => s.charAt(3)+s.charAt(s.length-1);
    const hashCode = s => s.split('').reduce((a, b, i) => a * 3 + b.charCodeAt(0) * i, 0);
    const hashString = s => (hashCode(s)).toString(36).substr(-3);

    let gl = document.createElement("canvas").getContext('webgl2')

    let keys = Object.keys(gl.__proto__).sort();
    let words = [];

    let s = [], c = [], h = {}, total = "";
    for (let key of keys/*.sort((a,b)=>gl[a]-gl[b])*/) {
      if (key.toUpperCase() == key)
        s.push(`${key}=${gl[key] > 9 ? "0x" + gl[key].toString(16) : gl[key]}`);
      else {
        //c.push(key);
        words.push(key);
        let hash = hashString(key);
        //console.log(hash);
        h[hash] = [...(h[hash] || []), key];
        total += h[hash];
        //console.log(key, hash);
        //console.log(key, );
      }
    }

    console.log("wl", words.join("").length, "words", words.length);
    console.log(h);

    console.log(Object.values(h).filter(s => s != 1).join``.length);
    console.log("saved", Object.values(h).filter(v => v.length == 1).map(v => v[0]).join("").length);

    //console.log(total.length, total);

    //console.log(c);

    document.body.innerHTML = `<p><pre>export const ${s.join(",\n")};</pre></p>`

    s = "";

    for (index = 0; index < 64; index++) {
      if (index == 0) limit = 0.015625;
      if (index == 1) limit = 0.515625;
      if (index == 2) limit = 0.140625;
      if (index == 3) limit = 0.640625;
      if (index == 4) limit = 0.046875;
      if (index == 5) limit = 0.546875;
      if (index == 6) limit = 0.171875;
      if (index == 7) limit = 0.671875;
      if (index == 8) limit = 0.765625;
      if (index == 9) limit = 0.265625;
      if (index == 10) limit = 0.890625;
      if (index == 11) limit = 0.390625;
      if (index == 12) limit = 0.796875;
      if (index == 13) limit = 0.296875;
      if (index == 14) limit = 0.921875;
      if (index == 15) limit = 0.421875;
      if (index == 16) limit = 0.203125;
      if (index == 17) limit = 0.703125;
      if (index == 18) limit = 0.078125;
      if (index == 19) limit = 0.578125;
      if (index == 20) limit = 0.234375;
      if (index == 21) limit = 0.734375;
      if (index == 22) limit = 0.109375;
      if (index == 23) limit = 0.609375;
      if (index == 24) limit = 0.953125;
      if (index == 25) limit = 0.453125;
      if (index == 26) limit = 0.828125;
      if (index == 27) limit = 0.328125;
      if (index == 28) limit = 0.984375;
      if (index == 29) limit = 0.484375;
      if (index == 30) limit = 0.859375;
      if (index == 31) limit = 0.359375;
      if (index == 32) limit = 0.0625;
      if (index == 33) limit = 0.5625;
      if (index == 34) limit = 0.1875;
      if (index == 35) limit = 0.6875;
      if (index == 36) limit = 0.03125;
      if (index == 37) limit = 0.53125;
      if (index == 38) limit = 0.15625;
      if (index == 39) limit = 0.65625;
      if (index == 40) limit = 0.8125;
      if (index == 41) limit = 0.3125;
      if (index == 42) limit = 0.9375;
      if (index == 43) limit = 0.4375;
      if (index == 44) limit = 0.78125;
      if (index == 45) limit = 0.28125;
      if (index == 46) limit = 0.90625;
      if (index == 47) limit = 0.40625;
      if (index == 48) limit = 0.25;
      if (index == 49) limit = 0.75;
      if (index == 50) limit = 0.125;
      if (index == 51) limit = 0.625;
      if (index == 52) limit = 0.21875;
      if (index == 53) limit = 0.71875;
      if (index == 54) limit = 0.09375;
      if (index == 55) limit = 0.59375;
      if (index == 56) limit = 1.0;
      if (index == 57) limit = 0.5;
      if (index == 58) limit = 0.875;
      if (index == 59) limit = 0.375;
      if (index == 60) limit = 0.96875;
      if (index == 61) limit = 0.46875;
      if (index == 62) limit = 0.84375;
      if (index == 63) limit = 0.34375;
      s += limit*64 + ",";
    }    
    console.log(s);
  </script>
</header>